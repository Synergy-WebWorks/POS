import{b as h,a as o,j as e,s as d}from"./app-CXlmVNMD.js";import{B as b}from"./button-CvZ9Fq3W.js";import{I as u}from"./input-C7UGUD4T.js";import{M as g}from"./modal-BllwoX1-.js";import{a as y,b as j}from"./cart-thunk-BP9ACRdL.js";import"./moment-C5S46NFB.js";function _(){return async function(a,c){const s=await y();a(h.actions.setCarts(s.data))}}function v({data:a}){const[c,s]=o.useState(!1),[t,l]=o.useState({}),[m,i]=o.useState(!1),[r,p]=o.useState(!1);async function f(n){try{i(!0),await d.dispatch(j({...a,...t})),await d.dispatch(_()),s(!1),i(!1)}catch{i(!1)}}console.log("data0",a);function x(n){return!(r&&t.due_date&&t.payment_type&&t.amount&&t.amount<=Number(a.balance)||!r&&t.payment_type&&t.amount&&t.amount<=Number(a.balance))}return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s(!0),className:"inline-flex items-center justify-center gap-x-1.5 rounded-md bg-yellow-100 hover:bg-yellow-200 px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset",children:"Pay Credit"}),e.jsx(g,{isOpen:c,onClose:()=>s(!1),title:"Add Payment",width:"max-w-lg",children:e.jsxs("div",{className:" flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-xl font-bold",children:["Customer Name: ",a.customer.name]}),e.jsxs("div",{className:"font-xl font-bold",children:["Balance: ",a.balance]}),e.jsxs("div",{className:"font-xl font-bold",children:["Current Balance:"," ",Number(a.balance)-Number(t.amount??0)]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{id:"is_customer",name:"is_customer",type:"checkbox",checked:r,onChange:n=>p(n.target.checked),className:"h-5 w-5 rounded border-pink-500 text-pink-600 focus:ring-pink-500 checked:bg-pink-600 checked:hover:bg-pink-600"}),e.jsx("span",{children:"Is Partial?"})]}),r&&e.jsx(u,{onChange:n=>l({...t,due_date:n.target.value}),value:t.due_date,type:"date",label:"Due Date"}),e.jsx("div",{children:e.jsx(u,{label:"Amount",name:"",value:t.amount,onChange:n=>l({...t,amount:n.target.value}),type:"number"})}),e.jsxs("select",{onChange:n=>l({...t,payment_type:n.target.value}),className:"rounded-md py-2.5 text-gray-500",label:"Mode of Payment",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Mode of Payment:"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"E-Wallet",children:"E-Wallet"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"Credit/Debit Card",children:"Credit/Debit Card"})]}),e.jsx(b,{disabled:x(),loading:m,onClick:f,children:"ADD PAYMENT"})]})})]})}const A=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}));export{v as A,A as a,_ as g};
