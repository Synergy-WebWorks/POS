import{u as c,r as l,j as e,s as x}from"./app-DK48ZznF.js";import{I as i}from"./input-C3vsLY20.js";import{D as g}from"./drawer-section-CwfM4Vt0.js";import{k as y,j as f,l as N}from"./index-Co2Dzk44.js";import C from"./upload-product-section-dJY15t_y.js";import{u as k,g as P}from"./product-thunk-QvImIPuw.js";import{T as w}from"./index-BI85TUpe.js";import{F as _}from"./PencilSquareIcon-DCdKHmuy.js";import{F as S}from"./XMarkIcon-BaxpROg-.js";import{s as u}from"./index-ZsTW-bnW.js";import"./transition-CHL6oc8H.js";import"./index-Bll0mY1a.js";import"./index-A41GZ1Lr.js";function W({data:m}){const{product:F}=c(s=>s.products),{categories:n}=c(s=>s.categories),[p,h]=l.useState(null),[v,r]=l.useState(!1),j=()=>r(!0),[d,o]=l.useState(!1),[t,a]=l.useState({});l.useEffect(()=>{a(m)},[]);const b=async s=>{s.preventDefault(),o(!0);try{await x.dispatch(k(t)),x.dispatch(P()),u.success("Updated Successfully!"),r(!1)}catch{u.error("Failed to edit Product. Please try again.")}finally{o(!1)}};return console.log("foaaaarmm",t),e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Edit Product",children:e.jsxs("button",{className:"group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",onClick:j,children:[e.jsx(_,{className:"mr-3 size-5 text-gray-400"}),e.jsx("b",{children:"Edit Product"})]})}),e.jsx("div",{}),e.jsx(g,{open:v,setOpen:r,children:e.jsxs("form",{onSubmit:b,className:"flex h-full flex-col divide-y divide-gray-200 bg-white shadow-xl",children:[e.jsxs("div",{className:"h-0 flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"bg-pink-200 px-4 py-6 sm:px-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-base font-semibold text-pink-600",children:[e.jsx(y,{className:"float-left mr-1 mt-1"}),"Edit Product"]}),e.jsx("div",{className:"ml-3 flex h-7 items-center",children:e.jsxs("button",{type:"button",onClick:()=>setOpenProduct(!1),className:"relative rounded-md bg-pink-200 text-gray-400 hover:text-gray-600 focus:ring-2 focus:ring-white focus:outline-hidden",children:[e.jsx("span",{className:"absolute -inset-2.5"}),e.jsx("span",{className:"sr-only",children:"Close panel"}),e.jsx(S,{"aria-hidden":"true",className:"size-6"})]})})]}),e.jsx("div",{className:"mt-1",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Get started by updating the information below to modify your product."})})]}),e.jsx("div",{className:"flex flex-1 flex-col justify-between",children:e.jsx("div",{className:"divide-y divide-gray-200 px-4 sm:px-6",children:e.jsxs("div",{className:"space-y-6 pt-6 pb-5",children:[e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx(f,{className:"float-left size-5 mr-1 mt-3 text-pink-500"}),e.jsx("h3",{className:"text-base font-medium text-gray-600 pt-3",children:"Product Information"}),e.jsx("hr",{})]}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.delivery_receipt_no,name:"delivery_receipt_no",label:"Delivery Receipt #",type:"text"})}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.brand,name:"brand",label:"Brand",type:"text"})}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.name,name:"name",label:"Product Name",type:"text"})}),e.jsx("div",{children:e.jsx("div",{className:"mt-2",children:e.jsxs("select",{onChange:s=>a({...t,category_id:s.target.value}),value:(t==null?void 0:t.category_id)??"",name:"category_id",className:"block w-full rounded-md bg-white px-3 py-2.5 text-base text-gray-900 placeholder:text-gray-400 focus:ring-pink-300 focus:border-pink-300 sm:text-sm/6",children:[e.jsx("option",{value:"",children:"Select a category"}),n==null?void 0:n.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})})}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.quantity,name:"quantity",label:"Quantity",type:"number"})}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx("hr",{}),e.jsx("h3",{className:"text-base font-medium text-white pt-3",children:"Upload Room Images"}),e.jsx("div",{className:"mt-2 flex justify-center rounded-lg border border-dashed border-pink-300 px-6 py-10",children:e.jsx("div",{className:"text-center",children:e.jsx(C,{files:p,setFiles:h})})})]}),e.jsxs("div",{className:"sm:col-span-12",children:[e.jsx(N,{className:"float-left size-5 mr-1 mt-3 text-pink-500"}),e.jsx("h3",{className:"text-base font-medium text-gray-600 pt-3",children:"Pricing Information"}),e.jsx("hr",{})]}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.cost,name:"cost",label:"Cost Per Unit",type:"number"})}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.srp,name:"srp",label:"SRP Price",type:"number"})}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.reseller,name:"reseller",label:"Reseller Price",type:"number"})}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.city_distributor,name:"city_distributor",label:"Distributor Price",type:"number"})}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.district_distributor,name:"district_distributor",label:"District Distributor Price",type:"number"})}),e.jsx("div",{children:e.jsx(i,{onChange:s=>a({...t,name:s.target.value}),value:t==null?void 0:t.provincial_distributor,name:"provincial_distributor",label:"Provincial Distributor Price",type:"number"})})]})})})]}),e.jsxs("div",{className:"flex shrink-0 justify-end px-4 py-4",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-xs ring-1 ring-gray-300 ring-inset hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:d,className:"ml-4 inline-flex justify-center rounded-md bg-pink-500 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-pink-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600",children:d?"Saving...":"Save"})]})]})})]})}export{W as default};
